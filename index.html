<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <title>GetSong Metronome</title>
	<link rel="stylesheet" type="text/css" href="mix.css">
</head>
<body>
	<div id="gsbpm_metronome">
		<div class="metronome_body"></div>
			<div class="swinging_pendulum">
			<div></div>
		</div>
		<div class="scale">
			<span></span>
			<span></span>
			<span></span>
			<span></span>
			<span></span>
			<span></span>
			<span></span>
			<span></span>
			<span></span>
		</div>
		<div class="bpm-control">
			<button class="slow-down">-</button>
			<input type="text" value="100" class="bpm-input" />
			<button class="speed-up">+</button>
			<span>BPM</span>
		</div>
		<div class="metronome_switcher">
			<input type="checkbox" id="metronome_switcher" class="switcher hidden"/>
			<label for="metronome_switcher" class="switcher"></label>		
		</div>
	<div class="options">
		<div class="n_beats_change"></div>
		<div class="per_measure">
			<label for="ts-change">Beats per measure</label>
			<select class="new_beats">
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4" selected>4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
			</select>
		</div>
	</div>
		<div class="beats">
			<div class="beatcount"></div>
			<div class="current_beat"></div>
		</div>
	</div>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src="metro.js"></script>
    
    <script>
        // 在页面加载完毕后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 创建并启动 AudioContext
            window.AudioContext = window.AudioContext || window.webkitAudioContext;
            var context = new AudioContext();
            
            // 在用户点击页面的时候启动 AudioContext
            document.addEventListener('click', function() {
                context.resume().then(function() {
                    console.log('AudioContext 已经启动');
                    // 在这里继续您的代码逻辑，包括调用 schedule() 或其他音频操作
                }).catch(function(err) {
                    console.error('无法启动 AudioContext: ' + err);
                });
            });
        });
    </script>
</body>
</html>
